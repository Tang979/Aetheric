<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.148.0">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/Aetheric/images/favicon.png" type="image/png">

    <title>Cấu hình API Gateway để sử dụng Lambda tương tác với DynamoDB :: AWS System Manager</title>

    
    <link href="/Aetheric/css/nucleus.css?1753244147" rel="stylesheet">
    <link href="/Aetheric/css/fontawesome-all.min.css?1753244147" rel="stylesheet">
    <link href="/Aetheric/css/hybrid.css?1753244147" rel="stylesheet">
    <link href="/Aetheric/css/featherlight.min.css?1753244147" rel="stylesheet">
    <link href="/Aetheric/css/perfect-scrollbar.min.css?1753244147" rel="stylesheet">
    <link href="/Aetheric/css/auto-complete.css?1753244147" rel="stylesheet">
    <link href="/Aetheric/css/atom-one-dark-reasonable.css?1753244147" rel="stylesheet">
    <link href="/Aetheric/css/theme.css?1753244147" rel="stylesheet">
    <link href="/Aetheric/css/hugo-theme.css?1753244147" rel="stylesheet">
    
    <link href="/Aetheric/css/theme-workshop.css?1753244147" rel="stylesheet">
    
    

    <script src="/Aetheric/js/jquery-3.3.1.min.js?1753244147"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/Aetheric/vi/4-pushdatafromunitytodynamodb/3.3-api-gateway/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/Aetheric/js/lunr.min.js?1753244147"></script>
<script type="text/javascript" src="/Aetheric/js/auto-complete.js?1753244147"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/tang979.github.io\/Aetheric\/\/vi";
    
</script>
<script type="text/javascript" src="/Aetheric/js/search.js?1753244147"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/Aetheric/vi/1-introduce/" title="Giới thiệu" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/1-introduce/">
           <b> 1. </b> Giới thiệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/1-introduce/1.1-introduce-services/" title="Giới thiệu các dịch vụ sử dụng" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/1-introduce/1.1-introduce-services/">
           <b> 1.1. </b> Giới thiệu các dịch vụ sử dụng
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/Aetheric/vi/2-prerequiste-copy/" title="Xác thực tài khoản bằng Amazon Cognito" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/2-prerequiste-copy/">
           <b> 2. </b> Xác thực tài khoản bằng Amazon Cognito
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/2-prerequiste-copy/2.1-createuserpool/" title="Tạo user pool" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/2-prerequiste-copy/2.1-createuserpool/">
           <b> 2.1. </b> Tạo user pool
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/2-prerequiste-copy/2.2-check_connection_to_unity/" title="kiểm tra kết nối đến unity" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/2-prerequiste-copy/2.2-check_connection_to_unity/">
           <b> 2.2. </b> kiểm tra kết nối đến unity
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/2-prerequiste-copy/2.3-clear/" title="Dọn dẹp" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/2-prerequiste-copy/2.3-clear/">
           <b> 2.2. </b> Dọn dẹp
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/Aetheric/vi/3-ses_authentication/" title="Sử dụng dịch vụ Amazon SES gửi email từ User lên Sever" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/3-ses_authentication/">
           <b> 3. </b> Sử dụng dịch vụ Amazon SES gửi email từ User lên Sever
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/3-ses_authentication/4.1-amazonses_configuration/" title="Cấu hinh Amazon SES" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/3-ses_authentication/4.1-amazonses_configuration/">
           <b> 3.1. </b> Cấu hinh Amazon SES
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/3-ses_authentication/4.2-lambda-configuration/" title="Cấu hình Lambda" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/3-ses_authentication/4.2-lambda-configuration/">
           <b> 3.2. </b> Cấu hình Lambda
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/3-ses_authentication/4.3-apigateway_configuration/" title="Cấu hình API GateWay" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/3-ses_authentication/4.3-apigateway_configuration/">
           <b> 3.3. </b> Cấu hình API GateWay
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/3-ses_authentication/4.4-setup_connection_in_unity/" title="Kết nối vào Unity" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/3-ses_authentication/4.4-setup_connection_in_unity/">
           <b> 3.4. </b> Kết nối vào Unity
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/3-ses_authentication/4.5-clear/" title="Dọn dẹp" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/3-ses_authentication/4.5-clear/">
           <b> 3.5. </b> Dọn dẹp
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/Aetheric/vi/4-pushdatafromunitytodynamodb/" title="Đẩy dữ liệu từ Unity lên Amazon DynamoDB" class="dd-item 
        parent
        
        
        ">
      <a href="/Aetheric/vi/4-pushdatafromunitytodynamodb/">
           <b> 4. </b> Đẩy dữ liệu từ Unity lên Amazon DynamoDB
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/4-pushdatafromunitytodynamodb/3.1-dynamodb/" title="Tạo bảng dữ liệu trên DynamoDB và cấu hình các phần cần thiết" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/4-pushdatafromunitytodynamodb/3.1-dynamodb/">
           <b> 4.1. </b> Tạo bảng dữ liệu trên DynamoDB và cấu hình các phần cần thiết
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/4-pushdatafromunitytodynamodb/3.2-lambda/" title="Tạo lambda để tương tác với DynamoDB" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/4-pushdatafromunitytodynamodb/3.2-lambda/">
           <b> 4.2. </b> Tạo lambda để tương tác với DynamoDB
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/4-pushdatafromunitytodynamodb/3.3-api-gateway/" title="Cấu hình API Gateway để sử dụng Lambda tương tác với DynamoDB" class="dd-item 
        
        active
        
        ">
      <a href="/Aetheric/vi/4-pushdatafromunitytodynamodb/3.3-api-gateway/">
           <b> 4.3. </b> Cấu hình API Gateway để sử dụng Lambda tương tác với DynamoDB
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/Aetheric/vi/5-s3withunity/" title="Sử dụng S3 để tải Asset động cho Game Unity" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/5-s3withunity/">
           <b> 5. </b> Sử dụng S3 để tải Asset động cho Game Unity
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/5-s3withunity/4.1-creates3/" title="Tạo S3 Bucket cho Asset Game" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/5-s3withunity/4.1-creates3/">
           <b> 5.1. </b> Tạo S3 Bucket cho Asset Game
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/Aetheric/vi/5-s3withunity/4.2-s3unity/" title="Tải Asset Động từ S3" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/5-s3withunity/4.2-s3unity/">
           <b> 5.2 </b> Tải Asset Động từ S3
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/Aetheric/vi/6-cleanup/" title="Dọn dẹp tài nguyên" class="dd-item 
        
        
        
        ">
      <a href="/Aetheric/vi/6-cleanup/">
           <b> 6. </b> Dọn dẹp tài nguyên
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"><i class='fab fa-facebook'></i> AWS Study Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="https://tang979.github.io/Aetheric/4-pushdatafromunitytodynamodb/3.3-api-gateway/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="https://tang979.github.io/Aetheric/vi/4-pushdatafromunitytodynamodb/3.3-api-gateway/" selected>Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>30-01-2022</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i> <a href="https://www.linkedin.com/in/sutrinh/"  style="color:orange">Sử Trịnh  </a> <br>
                <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia Hưng </a> <br>
                <a href="https://www.linkedin.com/in/hiepnguyendt"  style="color:orange">Thanh Hiệp </a>
               
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/Aetheric/vi/'>Modernizing Mobile Game Backend with AWS Cloud Services</a> > <a href='/Aetheric/vi/4-pushdatafromunitytodynamodb/'>Đẩy dữ liệu từ Unity lên Amazon DynamoDB</a> > Cấu hình API Gateway để sử dụng Lambda tương tác với DynamoDB
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#tạo-http-api-gateway">Tạo HTTP API Gateway</a></li>
        <li><a href="#cấu-hình-routes-tuyến-đường">Cấu hình Routes (Tuyến đường)</a></li>
        <li><a href="#cấu-hình-stage">Cấu hình Stage</a></li>
        <li><a href="#cors-cross-origin-resource-sharing">CORS (Cross-Origin Resource Sharing)</a></li>
        <li><a href="#lấy-url-của-api">Lấy URL của API</a></li>
        <li><a href="#kiểm-tra-api">Kiểm tra API</a></li>
        <li><a href="#sử-dụng-api-trong-unity">Sử dụng API trong Unity</a></li>
        <li><a href="#kết-luận">Kết luận</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Cấu hình API Gateway để sử dụng Lambda tương tác với DynamoDB
            </h1>
          

        



	<h3 id="tạo-http-api-gateway">Tạo HTTP API Gateway</h3>
<ol>
<li>
<p>Truy cập vào <a href="https://ap-southeast-2.console.aws.amazon.com/apigateway/main/apis?region=ap-southeast-2">giao diện của dịch vụ API Gateway</a> và chọn <strong>Create API</strong>.</p>
</li>
<li>
<p>Chọn <strong>HTTP API</strong> và nhấn <strong>Build</strong>.</p>
<p><img src="/images/3.connect/apigateway1.png" alt="apigateway"></p>
</li>
<li>
<p>Ở màn hình tạo API:</p>
<ul>
<li>Đặt tên cho API của bạn trong trường <strong>API name</strong></li>
<li>Trong phần <strong>Integrations</strong>, chọn <strong>Add integration</strong></li>
<li>Chọn <strong>Lambda</strong> làm loại tích hợp</li>
<li>Chọn Lambda function đã tạo ở bước trước</li>
<li>Ở phần <strong>API endpoint type</strong>, chọn <strong>Regional</strong></li>
<li>Ở phần <strong>CORS</strong>, để mặc định hoặc bật tùy theo nhu cầu của bạn</li>
<li>Nhấn <strong>Next</strong></li>
</ul>
<p><img src="/images/3.connect/httpapi1.png" alt="apigateway"></p>
</li>
</ol>
<h3 id="cấu-hình-routes-tuyến-đường">Cấu hình Routes (Tuyến đường)</h3>
<ol>
<li>
<p>Ở màn hình Configure routes:</p>
<ul>
<li>Chọn phương thức <strong>POST</strong></li>
<li>Nhập đường dẫn <strong>/scores</strong></li>
<li>Chọn Lambda function của bạn làm integration target (Mặc định sẽ là Lambda function mà bạn đã chọn ở bước trên)</li>
<li>Nhấn <strong>Next</strong></li>
</ul>
<p><img src="/images/3.connect/httpapi2.png" alt="apigateway"></p>
</li>
</ol>
<h3 id="cấu-hình-stage">Cấu hình Stage</h3>
<ol>
<li>
<p>Ở màn hình Configure stages:</p>
<ul>
<li>Giữ stage mặc định <strong>$default</strong></li>
<li>Bạn có thể thêm các stage khác nếu cần</li>
<li>Nhấn <strong>Next</strong></li>
</ul>
<p><img src="/images/3.connect/httpapi3.png" alt="apigateway"></p>
</li>
<li>
<p>Xem lại các thiết lập và nhấn <strong>Create</strong>.</p>
</li>
</ol>
<h3 id="cors-cross-origin-resource-sharing">CORS (Cross-Origin Resource Sharing)</h3>
<p>Một trong những ưu điểm của HTTP API là nó đã hỗ trợ CORS mặc định. Khi tạo API, bạn có thể đã cấu hình CORS trong quá trình tạo. Nếu cần điều chỉnh thêm:</p>
<ol>
<li>
<p>Chọn API của bạn và chọn tab <strong>CORS</strong>.</p>
</li>
<li>
<p>Ở đây bạn có thể cấu hình:</p>
<ul>
<li><strong>Access-Control-Allow-Origins</strong>: Mặc định là &lsquo;*&rsquo; (cho phép tất cả các nguồn)</li>
<li><strong>Access-Control-Allow-Headers</strong>: Mặc định đã bao gồm &lsquo;Content-Type,Authorization&rsquo;</li>
<li><strong>Access-Control-Allow-Methods</strong>: Mặc định đã bao gồm các phương thức cơ bản</li>
</ul>
</li>
</ol>

<div class="notices info" ><p>Với ứng dụng Unity, CORS thường không phải là vấn đề lớn vì các yêu cầu không được gọi từ trình duyệt web. Tuy nhiên, cấu hình CORS vẫn hữu ích nếu bạn cũng sử dụng API này cho các ứng dụng web.</p>
</div>

<h3 id="lấy-url-của-api">Lấy URL của API</h3>
<ol>
<li>
<p>Chọn tab <strong>Stages</strong> và bạn sẽ thấy URL của API của bạn trong phần <strong>Invoke URL</strong>.</p>
<p><img src="/images/3.connect/httpapi6.png" alt="apigateway"></p>
</li>
<li>
<p>URL này sẽ có dạng: <code>https://api-id.execute-api.ap-southeast-2.amazonaws.com</code></p>
</li>
<li>
<p>Để gọi API của bạn, bạn sẽ sử dụng URL này kết hợp với đường dẫn đã định nghĩa (ví dụ: <code>https://api-id.execute-api.ap-southeast-2.amazonaws.com/scores</code>)</p>
</li>
</ol>
<h3 id="kiểm-tra-api">Kiểm tra API</h3>
<ol>
<li>
<p>Bạn có thể sử dụng công cụ như Postman hoặc curl để kiểm tra API của bạn.</p>
</li>
<li>
<p>Ví dụ sử dụng curl:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  https://your-api-id.execute-api.ap-southeast-2.amazonaws.com/scores <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#39;Content-Type: application/json&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#39;{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;userId&#34;: &#34;user123&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;score&#34;: 100,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;level&#34;: 5
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  }&#39;</span>
</span></span></code></pre></div></li>
<li>
<p>Hoặc bạn có thể sử dụng một đoạn code JavaScript đơn giản để gọi API:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;https://your-api-id.execute-api.ap-southeast-2.amazonaws.com/scores&#39;</span>, {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;POST&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;Content-Type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;application/json&#39;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">userId</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;user123&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">score</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">level</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>  }),
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">response</span> =&gt; <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">json</span>())
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">data</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">data</span>))
</span></span><span style="display:flex;"><span>.<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">error</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;Error:&#39;</span>, <span style="color:#a6e22e">error</span>));
</span></span></code></pre></div></li>
</ol>
<h3 id="sử-dụng-api-trong-unity">Sử dụng API trong Unity</h3>
<p>Bạn có thể sử dụng UnityWebRequest để gọi API từ game Unity của bạn:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Collections;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Text;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> UnityEngine;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> UnityEngine.Networking;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ApiClient</span> : MonoBehaviour
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">readonly</span> <span style="color:#66d9ef">string</span> apiUrl = <span style="color:#e6db74">&#34;https://your-api-id.execute-api.ap-southeast-2.amazonaws.com/scores&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> SaveScore(<span style="color:#66d9ef">string</span> userId, <span style="color:#66d9ef">int</span> score, <span style="color:#66d9ef">int</span> level)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        StartCoroutine(PostScore(userId, score, level));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> IEnumerator PostScore(<span style="color:#66d9ef">string</span> userId, <span style="color:#66d9ef">int</span> score, <span style="color:#66d9ef">int</span> level)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tạo JSON data</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">string</span> jsonData = JsonUtility.ToJson(<span style="color:#66d9ef">new</span> ScoreData
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            userId = userId,
</span></span><span style="display:flex;"><span>            score = score,
</span></span><span style="display:flex;"><span>            level = level
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tạo request</span>
</span></span><span style="display:flex;"><span>        UnityWebRequest request = <span style="color:#66d9ef">new</span> UnityWebRequest(apiUrl, <span style="color:#e6db74">&#34;POST&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">byte</span>[] bodyRaw = Encoding.UTF8.GetBytes(jsonData);
</span></span><span style="display:flex;"><span>        request.uploadHandler = <span style="color:#66d9ef">new</span> UploadHandlerRaw(bodyRaw);
</span></span><span style="display:flex;"><span>        request.downloadHandler = <span style="color:#66d9ef">new</span> DownloadHandlerBuffer();
</span></span><span style="display:flex;"><span>        request.SetRequestHeader(<span style="color:#e6db74">&#34;Content-Type&#34;</span>, <span style="color:#e6db74">&#34;application/json&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Gửi request</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> <span style="color:#66d9ef">return</span> request.SendWebRequest();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (request.result == UnityWebRequest.Result.Success)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            Debug.Log(<span style="color:#e6db74">&#34;Score saved successfully: &#34;</span> + request.downloadHandler.text);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            Debug.LogError(<span style="color:#e6db74">&#34;Error saving score: &#34;</span> + request.error);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">[System.Serializable]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ScoreData</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> userId;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> level;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="kết-luận">Kết luận</h3>
<p>Bây giờ bạn đã có một HTTP API hoàn chỉnh để lưu trữ dữ liệu game vào DynamoDB thông qua Lambda function. API này được tối ưu hóa cho ứng dụng di động và game Unity, với độ trễ thấp và hiệu suất cao.</p>

<div class="notices tip" ><p>Khi sử dụng API trong môi trường sản xuất, bạn nên cân nhắc việc thêm xác thực và giới hạn tốc độ để bảo vệ API của bạn.</p>
</div>






<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/Aetheric/vi/4-pushdatafromunitytodynamodb/3.2-lambda/" title="Tạo lambda để tương tác với DynamoDB"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/Aetheric/vi/5-s3withunity/" title="Sử dụng S3 để tải Asset động cho Game Unity" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/Aetheric/js/clipboard.min.js?1753244147"></script>
    <script src="/Aetheric/js/perfect-scrollbar.min.js?1753244147"></script>
    <script src="/Aetheric/js/perfect-scrollbar.jquery.min.js?1753244147"></script>
    <script src="/Aetheric/js/jquery.sticky.js?1753244147"></script>
    <script src="/Aetheric/js/featherlight.min.js?1753244147"></script>
    <script src="/Aetheric/js/highlight.pack.js?1753244147"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/Aetheric/js/modernizr.custom-3.6.0.js?1753244147"></script>
    <script src="/Aetheric/js/learn.js?1753244147"></script>
    <script src="/Aetheric/js/hugo-learn.js?1753244147"></script>

    <link href="/Aetheric/mermaid/mermaid.css?1753244147" rel="stylesheet" />
    <script src="/Aetheric/mermaid/mermaid.js?1753244147"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
